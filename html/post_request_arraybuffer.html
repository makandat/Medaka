<!DOCTYPE html>
<html lang="ja">
<head>
 <meta charset="utf-8" />
 <meta name="viewport" content="width=device-width,initial-scale=1" />
 <title>post_request_arraybuffer</title>
 <link rel="stylesheet" href="/css/style.css" />
 <script src="/js/JS365Lib.js"></script>
 <script>
  function sendData() {
    let bdata = getValue("data");
    const url = "/post_request_arraybuffer";
    const request = new Request(url, {
      method:"POST",
      body:bdata,
    });
    request.arrayBuffer()
    .then(data => {
      setValue("length", data.byteLength);
      const view = new Uint8Array(data);
      setValue("body", view.toString());
    });
  }
 </script>
</head>

<body>
 <!-- ヘッダー -->
 <header class="frame section">
  <h1>post_request_arraybuffer</h1>
   <p style="text-align:center;"><a href="/">HOME</a></p>
 </header>

 <!-- 本文 -->
 <article class="section">
  <br>
  <form id="form1" name="form1" class="form">
    <div class="form-row">
      <label>data<br><input type="text" id="data" size="100" value="ABC 012" class="form-control"></label>
    </div>
    <div class="form-row">
      <button type="button" class="btn" onclick="javascript:sendData()">&nbsp;&nbsp;送信&nbsp;&nbsp;</button>
    </div>
  </form>
  <h3>Byte length</h3>
  <p id="length" class="src"></p>
  <h3>Body</h3>
  <p id="body" class="src"></p>
 </article>

 <!-- フッター -->
 <footer>
  <p>&nbsp;</p>
  <p style="text-align:center;"><a href="#top">TOP</a></p>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
 </footer>
</body>
</html>
