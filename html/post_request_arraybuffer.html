<!DOCTYPE html>
<html lang="ja">
<head>
 <meta charset="utf-8" />
 <meta name="viewport" content="width=device-width,initial-scale=1" />
 <title>get_request_arraybuffer</title>
 <link rel="stylesheet" href="/css/style.css" />
 <script src="/js/JS365Lib.js"></script>
 <script>
  fuction toBin(data) {
    let s = "";
    let cd = data.split(" ");
    for (let c of cd) {
      if (c.startsWith("\\x") {
        s += String.fromCharCode(c);
      }
      else {
        s += c;
      }
    }
  }

  function query() {
    let buffer = toBin(form1.data);
    fetchArrayBuffer(
      "/post_request_arraybuffer", buffer, "POST", false, (data) => {
        setValue("headers", data["headers"]);
        setValue("body", data["body"]);
      }
    );
  }
 </script>
</head>

<body>
 <!-- ヘッダー -->
 <header class="frame section">
  <h1>get_request_arraybuffer</h1>
   <p style="text-align:center;"><a href="/">HOME</a></p>
 </header>

 <!-- 本文 -->
 <article class="section">
  <br>
  <form id="form1" name="form1" class="form">
    <div class="form-row">
      <label>data<br><input type="text" id="data" size="100" value="A B C \x34 \x35 \x0a" class="form-control"></label>
    </div>
    <div class="form-row">
      <button type="button" class="btn" onclick="javascript:query()">&nbsp;&nbsp;送信&nbsp;&nbsp;</button>
    </div>
  </form>
  <h3>Headers</h3>
  <pre id="headers" class="src"></pre>
  <h3>Body</h3>
  <p id="body" class="src"></p>
 </article>

 <!-- フッター -->
 <footer>
  <p>&nbsp;</p>
  <p style="text-align:center;"><a href="#top">TOP</a></p>
  <p>&nbsp;</p>
  <p>&nbsp;</p>
 </footer>
</body>
</html>
